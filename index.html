<script src="./scripts/aframe.min.js"></script>
<script src="./scripts/aframe-ar.js"></script>
<script src="./scripts/aframe-troika-text.js"></script>

<script src="./scripts/events.js"></script>

<body style='margin : 0px; overflow: hidden;'>
    <a-scene embedded vr-mode-ui="enabled: false" renderer="antialias: false; logarithmicDepthBuffer:true"
        arjs="sourceType: webcam; patternRatio: 0.75; debugUIEnabled: true;">
        <a-assets>
          <img id="linkIcon" src="./images/externalLink.svg"></img>
          <img id="pauseIcon" src="./images/pause.svg"></img>
          <img id="playIcon" src="./images/play.svg"></img>
          <img id="returnIcon" src="./images/return.svg"></img>
          <a-mixin id="giant" scale="5 5 5"></a-mixin>
        </a-assets>
        <a-marker type="pattern" url="./assets/pattern/logo.patt" id="centerMarker">

            <!-- Left Panel -->
            <a-entity id="leftPanel">
                <a-plane gltf-model="./assets/door/left/DoorV5LeftPanel.glb" position="-0.7 -0.1 -0.25"
                    rotation="90 0 0" scale="0.5 0.5 0.5" />
                <a-plane gltf-model="./assets/door/left/DoorV5LeftPanelFrame.glb" position="-0.7 -0.1 -0.25"
                    rotation="90 0 0" scale="0.5 0.5 0.5" />
                <a-box id="left-line-divider" visible="false" position="-0.8 0.01 -0.27" scale="0.015 0.05 0.4"
                    rotation="0 90 0" material="color: #1A1A1A; opacity: 1;" />
                <a-entity>
                    <a-plane id="left-arrow-button" gltf-model="./assets/door/left/DoorV5LeftPanelButton.glb" class=""
                        visible="false" emitevents="true" position="-0.515 0 -0.32" rotation="-90 0 0"
                        scale="0.49 0.49 0.49" />
                    <a-plane id="left-arrow-container" gltf-model="./assets/door/left/DoorV5LeftPanelArrowContainer.glb"
                        visible="false" position="-0.51 0 -0.25" rotation="90 0 0" scale="0.4 0.4 0.2" />
                    <a-plane id="left-arrow" gltf-model="./assets/door/left/DoorV5LeftPanelButtonArrow.glb"
                        visible="false" position="-0.49 0 -0.255" rotation="90 0 0" scale="0.5 0.5 0.2"></a-plane>
                </a-entity>
                <a-entity id="previous-page" position="-0.78 0.1 -0.08" scale="0.2 0.1 0.12">
                    <a-plane id="previous-plane-frame" gltf-model="./assets/door/ButtonFrame.glb"
                        visible="false"></a-plane>
                    <a-plane id="previous-plane" class="" emitevents="true" rotation="-90 0 0"
                        material="color: #FFC904; opacity: 0.5;" visible="false">
                        <a-troika-text id="previous-text" scale="2 3.33 1" position="0 0 0.01" value="Previous Page"
                            color="black" font-size="0.1" max-width="0.2" line-height="1.2" align="center"
                            font="./assets/fonts/JoganSoft-Regular.ttf"></a-troika-text>
                    </a-plane>
                </a-entity>
                <a-entity id="menu" position="-0.68 -0.015 -0.02">
                    <a-entity id="left-panel-menu-button" visible="false" class=""
                        gltf-model="./assets/door/left/DoorV5LeftPanelBottomButton.glb" scale="0.4 0.4 0.2"
                        rotation="90 180 0">
                        <a-troika-text id="left-panel-menu-text" scale="1 1 1" rotation="180 0 180"
                            position="0.3 0 -0.1" value="Back to Menu" color="black" font-size="0.17" max-width="2"
                            line-height="1.2" align="center" font="./assets/fonts/JoganSoft-Regular.ttf">
                            <a-image src="#returnIcon" position="0.6 0 0.1" scale="0.1 0.1 0.1" rotation="0 0 0" />
                        </a-troika-text>
                    </a-entity>
                </a-entity>
                <a-entity id="left-panel-labmember-info" position="-0.78 0 -0.5" rotation="-90 0 0" scale="0.1 0.1 0.1">
                    <a-box id="labMemberNumberBox" visible="false" position="0 0 0" scale="1.6 0.7 0.5" rotation="0 0 0"
                        material="color: #191919; opacity: 1;" />
                    <a-troika-text id="lab-member-number" value="" position="0 0 0.6" color="white" font-size="0.6"
                        align="center" line-height="1" max-width="8" font="./assets/fonts/PixelDigivolveItalic.otf" />
                    <a-troika-text id="lab-member-name" value="" position="0 -0.9 0" color="white" font-size="0.6"
                        align="center" line-height="1" max-width="8" font="./assets/fonts/JoganSoft-Regular.ttf" />
                    <a-troika-text id="lab-member-role" value="" position="0 -2 0" color="white" font-size="0.45"
                        align="center" line-height="1" max-width="8" font="./assets/fonts/JoganSoft-Regular.ttf" />
                </a-entity>
                <a-troika-text id="error-text" visible="false" position="0.1 0 11" rotation="0 90 180" scale="1 1 1"
                    value="An error has occurred. Please contact VARLAB Adminstrators." color="red" max-width="4"
                    line-height="1.2" font-size="0.4" align="center" wrapCount="15"></a-troika-text>
            </a-entity>

            <!-- Center Section -->
                        <a-entity>
            <a-entity
                id="doormask"
                gltf-model="./assets/door/DoorV5Mask.glb"
                position="-0.1 -0.09 0.46"
                scale="0.58 0.55 0.1"
                rotation="90 90 -90"
              />
            <a-entity
              id="doorframe"
              gltf-model="./assets/door/center/DoorV5Frame.glb"
              position="0 -0.08 -0.18"
              scale="0.545 0.55 0.55"
              rotation="-90 -90 90"
            />
            <a-entity id="doors" position="0.09 0 0">
              <a-entity
                id="doorleft"
                data-raycastable
                gltf-model="./assets/door/center/DoorV5Left.glb"
                position="0 -0.06 0.46"
                scale="0.55 0.55 0.55"
                rotation="-90 -90 90"
              ></a-entity>
              <a-entity
                id="doorright"
                data-raycastable
                gltf-model="./assets/door/center/DoorV5Right.glb"
                position="0 -0.06 0.46"
                scale="0.55 0.55 0.55"
                rotation="-90 -90 90"
              ></a-entity>
            </a-entity>

            <a-entity
              id="centerEntity"
              position="0 -2 0"
              scale="0.2 0.2 0.2"
              rotation="-90 0 0"
            />
            {/* Virtual Room */}
            <a-entity
                id="room"
                name="virtualroom"
                position="0 -5.1 -0.59"
                scale="1 0.53 2"
                rotation="-90 0 0"
                virtual-hole
              >
                <a-troika-text
                  id="virtual-room-number"
                  position="-0.45 -1 0.06"
                  value=""
                  color="white"
                  font-size="0.5"
                  align="center"
                  line-height="1"
                  max-width="8"
                  font="./assets/fonts/PixelDigivolveItalic.otf"
                />
                <a-box
              id="background"
              position="0 0 0"
              rotation="90 0 0"
              scale="4 0.1 4"
              material="color: black; opacity: 1;"
            />
              </a-entity>
              
          </a-entity>
        </a-marker>
        <a-camera position="0 0 0" cursor="fuse: false; rayOrigin:mouse;" raycaster="objects:.clickable"
            look-controls="enabled: false"></a-camera>
    </a-scene>
</body>
